{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zenca\\\\Documents\\\\GitHub\\\\EC-Carlos-Marban-24-25\\\\1T\\\\Sprint_4\\\\Ejercicio1\\\\my-app\\\\src\\\\Components\\\\GuildMemberManagement\\\\MemberList\\\\BulkActions\\\\BulkActions.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAllGuildMembers, deleteGuildMember, updateGuildMember } from '../../../../Services/guildmembers_API';\nimport './BulkActions.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BulkActions = ({\n  selectedMembers = [],\n  onActionComplete = () => {},\n  setSelectedMembers = () => {}\n}) => {\n  _s();\n  const [guildRole, setGuildRole] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [allMembers, setAllMembers] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  useEffect(() => {\n    const fetchAllMembers = async () => {\n      try {\n        const members = await getAllGuildMembers();\n        setAllMembers(members);\n      } catch (error) {\n        console.error('Error fetching all guild members:', error);\n      }\n    };\n    fetchAllMembers();\n  }, []);\n  const handleSelectAll = () => {\n    setSelectAll(!selectAll);\n    if (!selectAll) {\n      setSelectedMembers(allMembers.map(member => member.user_id));\n    } else {\n      setSelectedMembers([]);\n    }\n  };\n  const handleAction = async action => {\n    if (selectedMembers.length === 0) {\n      setNotification({\n        message: 'No members selected.',\n        type: 'error'\n      });\n      return;\n    }\n    if (selectAll) {\n      setSelectedMembers(allMembers.map(member => member.user_id));\n    }\n    if (action === 'changeRole' && !guildRole) {\n      setNotification({\n        message: 'Please select a guild role.',\n        type: 'error'\n      });\n      return;\n    }\n    try {\n      if (action === 'delete') {\n        await Promise.all(selectedMembers.map(userId => deleteGuildMember(userId)));\n        setNotification({\n          message: 'Members deleted successfully',\n          type: 'success'\n        });\n        setGuildRole(''); // Reset guildRole after deletion\n      } else if (action === 'changeRole') {\n        await Promise.all(selectedMembers.map(userId => updateGuildMember(userId, {\n          guild_role: guildRole\n        })));\n        setNotification({\n          message: 'Guild roles updated successfully',\n          type: 'success'\n        });\n        setGuildRole(''); // Reset guildRole after updating roles\n      }\n      onActionComplete();\n    } catch (error) {\n      console.error(`Error performing bulk action (${action}):`, error);\n      setNotification({\n        message: `Error performing bulk action (${action})`,\n        type: 'error'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bulk-actions\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      className: \"bulk-actions\",\n      checked: selectAll,\n      onChange: handleSelectAll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Select All Members\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: guildRole,\n      onChange: e => setGuildRole(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Guild Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"LIDER\",\n        children: \"LIDER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"GERENTE SENIOR\",\n        children: \"GERENTE SENIOR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"GERENTE\",\n        children: \"GERENTE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"GERENTE A2\",\n        children: \"GERENTE A2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"ALPHA 2\",\n        children: \"ALPHA 2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"MEMBER\",\n        children: \"MEMBER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleAction('changeRole'),\n      disabled: !selectAll && selectedMembers.length === 0,\n      children: \"Change Guild Role\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleAction('delete'),\n      disabled: !selectAll && selectedMembers.length === 0,\n      children: \"Delete Members\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), notification.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(BulkActions, \"/RY0Z4hSyQoIcjE+z79byjx+DuM=\");\n_c = BulkActions;\nexport default BulkActions;\nvar _c;\n$RefreshReg$(_c, \"BulkActions\");","map":{"version":3,"names":["React","useState","useEffect","getAllGuildMembers","deleteGuildMember","updateGuildMember","jsxDEV","_jsxDEV","BulkActions","selectedMembers","onActionComplete","setSelectedMembers","_s","guildRole","setGuildRole","notification","setNotification","message","type","allMembers","setAllMembers","selectAll","setSelectAll","fetchAllMembers","members","error","console","handleSelectAll","map","member","user_id","handleAction","action","length","Promise","all","userId","guild_role","className","children","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","value","e","target","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/zenca/Documents/GitHub/EC-Carlos-Marban-24-25/1T/Sprint_4/Ejercicio1/my-app/src/Components/GuildMemberManagement/MemberList/BulkActions/BulkActions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllGuildMembers, deleteGuildMember, updateGuildMember } from '../../../../Services/guildmembers_API';\nimport './BulkActions.css';\n\nconst BulkActions = ({ selectedMembers = [], onActionComplete = () => {}, setSelectedMembers = () => {} }) => {\n  const [guildRole, setGuildRole] = useState('');\n  const [notification, setNotification] = useState({ message: '', type: '' });\n  const [allMembers, setAllMembers] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n\n  useEffect(() => {\n    const fetchAllMembers = async () => {\n      try {\n        const members = await getAllGuildMembers();\n        setAllMembers(members);\n      } catch (error) {\n        console.error('Error fetching all guild members:', error);\n      }\n    };\n\n    fetchAllMembers();\n  }, []);\n\n  const handleSelectAll = () => {\n    setSelectAll(!selectAll);\n    if (!selectAll) {\n      setSelectedMembers(allMembers.map(member => member.user_id));\n    } else {\n      setSelectedMembers([]);\n    }\n  };\n\n  const handleAction = async (action) => {\n    if (selectedMembers.length === 0) {\n      setNotification({ message: 'No members selected.', type: 'error' });\n      return;\n    }\n    if (selectAll) {\n      setSelectedMembers(allMembers.map(member => member.user_id));\n    }\n    if (action === 'changeRole' && !guildRole) {\n      setNotification({ message: 'Please select a guild role.', type: 'error' });\n      return;\n    }\n\n    try {\n      if (action === 'delete') {\n        await Promise.all(selectedMembers.map(userId => deleteGuildMember(userId)));\n        setNotification({ message: 'Members deleted successfully', type: 'success' });\n        setGuildRole(''); // Reset guildRole after deletion\n      } else if (action === 'changeRole') {\n        await Promise.all(selectedMembers.map(userId => updateGuildMember(userId, { guild_role: guildRole })));\n        setNotification({ message: 'Guild roles updated successfully', type: 'success' });\n        setGuildRole(''); // Reset guildRole after updating roles\n      }\n      onActionComplete();\n    } catch (error) {\n      console.error(`Error performing bulk action (${action}):`, error);\n      setNotification({ message: `Error performing bulk action (${action})`, type: 'error' });\n    }\n  };\n\n  return (\n    <div className=\"bulk-actions\">\n      <input\n        type=\"checkbox\"\n        className=\"bulk-actions\"\n        checked={selectAll}\n        onChange={handleSelectAll}\n      />\n      <label>Select All Members</label>\n      <select value={guildRole} onChange={(e) => setGuildRole(e.target.value)}>\n        <option value=\"\">Select Guild Role</option>\n        <option value=\"LIDER\">LIDER</option>\n        <option value=\"GERENTE SENIOR\">GERENTE SENIOR</option>\n        <option value=\"GERENTE\">GERENTE</option>\n        <option value=\"GERENTE A2\">GERENTE A2</option>\n        <option value=\"ALPHA 2\">ALPHA 2</option>\n        <option value=\"MEMBER\">MEMBER</option>\n      </select>\n      <button onClick={() => handleAction('changeRole')} disabled={!selectAll && selectedMembers.length === 0}>Change Guild Role</button>\n      <button onClick={() => handleAction('delete')} disabled={!selectAll && selectedMembers.length === 0}>Delete Members</button>\n      {notification.message && (\n        <div className={`notification ${notification.type}`}>\n          {notification.message}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BulkActions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}